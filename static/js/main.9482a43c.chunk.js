(this.webpackJsonptrello=this.webpackJsonptrello||[]).push([[0],{56:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),i=n.n(c),s=n(46),u=n(17),o=n(24),d=n(43),p=n(3),l={isLoading:!1,isPlaying:!1};var f=n(34),b={pads:[]};var j=Object(o.b)({systemModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case"PLAY_START":return Object(p.a)(Object(p.a)({},e),{},{isPlaying:!0});case"PLAY_PAUSE":return Object(p.a)(Object(p.a)({},e),{},{isPlaying:!1});case"LOOP_ENDED":return Object(p.a)(Object(p.a)({},e),{},{isloopEnded:!0});case"NEW_LOOP_STATRED":return Object(p.a)(Object(p.a)({},e),{},{isloopEnded:!1});default:return e}},padModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PADS":return Object(p.a)(Object(p.a)({},e),{},{pads:t.pads});case"SET_PAD":return Object(p.a)(Object(p.a)({},e),{},{currPad:t.pad});case"RESET_PAD":return Object(p.a)(Object(p.a)({},e),{},{currPad:null});case"UPDATE_PAD":return Object(p.a)(Object(p.a)({},e),{},{pads:[t.pad].concat(Object(f.a)(e.pads.filter((function(e){return t.pad._id!==e._id}))))});default:return e}}}),O=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,h=Object(o.d)(j,O(Object(o.a)(d.a))),v=(n(56),n(4));function g(){return Object(v.jsx)("footer",{children:Object(v.jsx)("p",{className:"flex justify-center",children:"Copyright @2021 | Designed by Zoya Rumin"})})}var y=n(2),m=n.n(y),x=n(6),P=n(19),_={query:k,get:function(e,t){return w.apply(this,arguments)},post:function(e,t){return E.apply(this,arguments)},put:function(e,t){return S.apply(this,arguments)},remove:function(e,t){return A.apply(this,arguments)}};function k(e,t){var n=JSON.parse(localStorage.getItem(e))||Object(f.a)(t);return D(e,n),Promise.resolve(n)}function w(){return(w=Object(x.a)(m.a.mark((function e(t,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return r=e.sent,e.abrupt("return",r.find((function(e){return e._id===n})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(x.a)(m.a.mark((function e(t,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._id=N(),e.next=3,k(t,[]);case 3:return(r=e.sent).unshift(n),D(t,r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(x.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return r=e.sent,a=r.findIndex((function(e){return e._id===n._id})),r.splice(a,1,n),D(t,r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(x.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:r=e.sent,a=r.findIndex((function(e){return e._id===n})),r.splice(a,1),D(t,r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){localStorage.setItem(e,JSON.stringify(t))}function N(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var T=[{_id:"1",title:"Future Funk Beats",isChecked:!1,isPlaying:!1},{_id:"2",title:"Stutter Break beats",isChecked:!1,isPlaying:!1},{_id:"3",title:"Bass Funk Groove",isChecked:!1,isPlaying:!1},{_id:"4",title:"Electric Guitar",isChecked:!1,isPlaying:!1},{_id:"5",title:"Stompy Slosh",isPlaying:!1},{_id:"6",title:"Groove Tanggu",isPlaying:!1},{_id:"7",title:"Maze Politics",isPlaying:!1},{_id:"8",title:"Drum Beet",isPlaying:!1},{_id:"9",title:"Silent Star Organ",isPlaying:!1}],C="MUSIC",L={query:function(){return I.apply(this,arguments)},getPadById:function(e){return M.apply(this,arguments)},remove:function(e){return W.apply(this,arguments)},save:function(e){return B.apply(this,arguments)}};function I(){return(I=Object(x.a)(m.a.mark((function e(){var t,n=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,e.next=4,_.query(C,T);case 4:return t=e.sent,e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(1),console.log(e.t0,"err"),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function M(){return(M=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get(C,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.remove(C,t);case 2:return e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=6;break}return e.next=3,_.put(C,t);case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,_.post(C,t);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){console.log("save pad in pad.action");var t=e._id?"UPDATE_PAD":"ADD_PAD";return function(){var n=Object(x.a)(m.a.mark((function n(r){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.save(e);case 3:r({type:t,pad:e}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log("padActions: err in save pads",n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}function F(){return function(){var e=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"PLAY_PAUSE"})}catch(n){console.log("padActions: err in pausing audio",n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var G=n(79),U=n.p+"static/media/1.5eb417fc.mp3",q=n.p+"static/media/2.37c82282.mp3",J=n.p+"static/media/3.52c24c81.mp3",Y=n.p+"static/media/4.230fcab8.mp3",X=n.p+"static/media/5.27bdc145.mp3",z=n.p+"static/media/6.3e1411b4.mp3",V=n.p+"static/media/7.2d08c654.mp3",Z=n.p+"static/media/8.f77c6da4.mp3",H=n.p+"static/media/9.f2d668af.mp3";function K(e){var t=e.id,n=e.isWaiting,a=e.updateWaiting,c=e.updateEnding,i=e.isEndedProp,s=Object(u.b)(),o=Object(u.c)((function(e){return e.systemModule.isPlaying})),d=Object(r.useState)(null),l=Object(P.a)(d,2),f=l[0],b=l[1],j=Object(r.useState)(!1),O=Object(P.a)(j,2),h=O[0],g=O[1],y=Object(r.useState)(null),_=Object(P.a)(y,2),k=(_[0],_[1]),w=function(e){switch(e){case"1":return U;case"2":return q;case"3":return J;case"4":return Y;case"5":return X;case"6":return z;case"7":return V;case"8":return Z;case"9":return H;default:return""}}(""+t),E=Object(r.useRef)();Object(r.useEffect)((function(){(function(){var e=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getPadById(t);case 2:n=e.sent,b(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),f&&(g(f.isChecked),k(!1))}),[t,null===f||void 0===f?void 0:f.isChecked]),Object(r.useEffect)((function(){return(null===f||void 0===f?void 0:f.isChecked)&&!o&&s(R(Object(p.a)(Object(p.a)({},f),{},{isPlaying:!0}))),f&&S(),function(){}}),[t,null===f||void 0===f?void 0:f.isChecked,o,null===f||void 0===f?void 0:f.isPlaying]),Object(r.useEffect)((function(){i&&S()}),[i]),Object(r.useEffect)((function(){return function(){s(F())}}),[]);var S=function(){h&&o?(E.current.play(),s(R(Object(p.a)(Object(p.a)({},f),{},{isPlaying:!0})))):o||(E.current.pause(),s(R(Object(p.a)(Object(p.a)({},f),{},{isPlaying:!1,isWaiting:!1}))))};return f?Object(v.jsxs)("div",{className:"pad-preview flex column space-between align-center",children:[Object(v.jsx)("p",{className:"title",children:f.title}),Object(v.jsx)("audio",{ref:E,src:w,onEnded:function(){n&&o&&c(!0),o&&E.current.play()}}),Object(v.jsx)(G.a,{checked:h,onChange:function(e){g(e.target.checked);var t=Object(p.a)(Object(p.a)({},f),{},{isChecked:e.target.checked,isWaiting:!!o});s(R(t)),e.target.checked&&o&&a(f._id)},name:"isChecked",inputProps:{"aria-label":"secondary checkbox"}})]}):Object(v.jsx)("div",{children:"...LOADING"})}function Q(e){var t=e.pads,n=e.isWaiting,r=e.updateWaiting,a=e.updateEnding,c=e.isEnded,i=t.sort((function(e,t){return e._id>t._id?1:-1}));return Object(v.jsx)("div",{className:"pad-list flex justify-center",children:Object(v.jsx)("div",{className:"grid-list grid",children:i.map((function(e){return Object(v.jsx)(K,{id:e._id,isWaiting:n,updateWaiting:r,updateEnding:a,isEnded:c},e._id)}))})})}var $=n(44),ee=n.n($),te=n(45),ne=n.n(te),re=function(){var e=Object(u.b)(),t=Object(r.useState)(!1),n=Object(P.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(null),s=Object(P.a)(i,2),o=s[0],d=s[1],l=Object(u.c)((function(e){return e.padModule.pads})),f=Object(r.useState)(!1),b=Object(P.a)(f,2),j=b[0],O=b[1],h=Object(u.c)((function(e){return e.systemModule.isLoading}));Object(r.useEffect)((function(){return e(function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,L.query();case 4:n=e.sent,t({type:"SET_PADS",pads:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("padActions: err in load pads",e.t0);case 11:return e.prev=11,t({type:"LOADING_DONE"}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()),function(){}}),[]);return h?Object(v.jsx)("div",{children:"Loading..."}):Object(v.jsxs)("div",{className:"home-page main-container",children:[Object(v.jsx)("h1",{children:"Mix Things Up"}),Object(v.jsx)(Q,{pads:l,isWaiting:a,updateWaiting:function(e){c(!0),function(){var t=Object(x.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getPadById(e);case 2:n=t.sent,d(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()},updateEnding:function(){O(!0),o&&e(R(Object(p.a)(Object(p.a)({},o),{},{isPlaying:!0})))},isEndedProp:j}),Object(v.jsxs)("div",{className:"btns flex justify-center",children:[Object(v.jsx)("button",{children:Object(v.jsx)(ee.a,{className:"svg-btn",onClick:function(){c(!1),e(function(){var e=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"PLAY_START"})}catch(n){console.log("padActions: err in playing audio",n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})}),Object(v.jsx)(ne.a,{className:"svg-btn",onClick:function(t){t.preventDefault(),e(F()),c(!1)}})]})]})},ae=function(){return Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)(re,{}),Object(v.jsx)(g,{})]})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(v.jsx)(u.a,{store:h,children:Object(v.jsx)(s.a,{children:Object(v.jsx)(ae,{})})}),document.getElementById("root")),ce()}},[[62,1,2]]]);
//# sourceMappingURL=main.9482a43c.chunk.js.map